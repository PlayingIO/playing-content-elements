<!-- DRAWER -->

<mostly-slot-content name="browseDrawerItem" slot="DRAWER_ITEMS" order="20">
  <template>
    <mostly-menu-icon name="browser" icon="mostly:browse" label="app.browse"></mostly-menu-icon>
  </template>
</mostly-slot-content>
<mostly-slot-content name="browseDrawerPage" slot="DRAWER_PAGES">
  <template>
    <playing-document-tree name="browser" id="navTree" label="app.browse" current-document="[[document]]"></playing-document-tree>
  </template>
</mostly-slot-content>

<mostly-slot-content name="recentsDrawerItem" slot="DRAWER_ITEMS" order="50">
  <template>
    <mostly-menu-icon name="recents" icon="mostly:recent" label="app.recentlyViewed"></mostly-menu-icon>
  </template>
</mostly-slot-content>
<mostly-slot-content name="recentsDrawerPage" slot="DRAWER_PAGES">
  <template>
    <playing-recent-documents name="recents" max-size="10" id="recent"></playing-recent-documents>
  </template>
</mostly-slot-content>

<mostly-slot-content name="personalWorkspaceDrawerItem" slot="DRAWER_ITEMS" order="80">
  <template>
    <mostly-menu-icon name="personalWorkspace" icon="mostly:user-space" label="app.personalSpace"></mostly-menu-icon>
  </template>
</mostly-slot-content>
<mostly-slot-content name="personalWorkspaceDrawerPage" slot="DRAWER_PAGES">
  <template>
    <playing-document-tree name="personalWorkspace" label="app.personalSpace"
            current-document="[[document]]"
            root-doc-path="[[userWorkspace]]"></playing-document-tree>
  </template>
</mostly-slot-content>

<mostly-slot-content name="clipboardDrawerItem" slot="DRAWER_ITEMS" order="90">
  <template>
    <mostly-menu-icon name="clipboard" icon="mostly:clipboard" label="app.clipboard" badge="[[clipboardDocCount]]"></mostly-menu-icon>
  </template>
</mostly-slot-content>
<mostly-slot-content name="clipboardDrawerPage" slot="DRAWER_PAGES">
  <template>
    <playing-clipboard name="clipboard" id="clipboard" target-document="[[document]]"></playing-clipboard>
  </template>
</mostly-slot-content>

<!-- PAGES -->
<!-- TODO move playing-browser here instead of mostly-app.html
<mostly-slot-content name="browsePage" slot="PAGES">
  <template>
    <playing-browser name="browse" id="browser" document="[[document]]" clipboard="[[clipboard]]" selected-tab="[[docAction]]"></playing-browser>
  </template>
</mostly-slot-content>
-->

<!-- DOCUMENT VIEWS -->

<mostly-slot-content name="documentViewItem" slot="DOCUMENT_VIEWS_ITEMS" order="10">
  <template>
    <mostly-filter document="[[document]]" expression="document && !document.isVersion">
      <template>
        <mostly-page-item name="view" label="browser.view"></mostly-page-item>
      </template>
    </mostly-filter>
  </template>
</mostly-slot-content>

<mostly-slot-content name="documentPermissionsItem" slot="DOCUMENT_VIEWS_ITEMS" order="20">
  <template>
    <mostly-page-item name="permissions" label="browser.permissions"></mostly-page-item>
  </template>
</mostly-slot-content>
<mostly-slot-content name="documentPermissionsPage" slot="DOCUMENT_VIEWS_PAGES" order="20">
  <template>
    <playing-document-permissions name="permissions" id="permissions" doc-id="[[document.id]]"></playing-document-permissions>
  </template>
</mostly-slot-content>

<mostly-slot-content name="documentHistoryItem" slot="DOCUMENT_VIEWS_ITEMS" order="30">
  <template>
    <mostly-page-item name="activity" label="browser.activity"></mostly-page-item>
  </template>
</mostly-slot-content>

<!-- DOCUMENT PAGES -->

<mostly-slot-content name="documentViewPage" slot="DOCUMENT_VIEWS_PAGES" order="10">
  <template>
    <mostly-filter document="[[document]]" expression="document && document.metadata && document.metadata.facets
                                                    && document.metadata.facets.indexOf('Folderish') === -1
                                                    && document.metadata.facets.indexOf('Collection') === -1">
      <template>
        <playing-document-page name="view" document="[[document]]"></playing-document-page>
      </template>
    </mostly-filter>
    <mostly-filter document="[[document]]" facet="Folderish,Collection">
      <template>
        <playing-collapsible-document-page name="view" document="[[document]]"></playing-collapsible-document-page>
      </template>
    </mostly-filter>
  </template>
</mostly-slot-content>

<mostly-slot-content name="documentActivityPage" slot="DOCUMENT_VIEWS_PAGES" order="30">
  <template>
    <playing-document-activity name="activity" document="[[document]]"></playing-document-activity>
  </template>
</mostly-slot-content>

<!-- DOCUMENT CREATE ACTIONS -->

<mostly-slot-content name="defaultDocumentCreateActions" slot="DOCUMENT_CREATE_ACTIONS" order="10">
  <template>
    <playing-document-create-shortcuts host-visible$=[[hostVisible]]
            subtypes="[[subtypes]]"></playing-document-create-shortcuts>
  </template>
</mostly-slot-content>

<!-- DOCUMENT CREATION WIZARD -->

<mostly-slot-content name="documentCreateItem" slot="CREATE_POPUP_ITEMS" order="10">
  <template>
    <paper-tab name="create">[[i18n('documentCreatePopup.create')]]</paper-tab>
  </template>
</mostly-slot-content>

<mostly-slot-content name="documentImportItem" slot="CREATE_POPUP_ITEMS" order="20">
  <template>
    <paper-tab name="import">[[i18n('documentCreatePopup.import')]]</paper-tab>
  </template>
</mostly-slot-content>

<!-- DOCUMENT ACTIONS -->

<mostly-slot-content name="editDocumentAction" slot="DOCUMENT_ACTIONS" order="10">
  <template>
    <playing-document-edit-button document="[[document]]"></playing-document-edit-button>
  </template>
</mostly-slot-content>

<mostly-slot-content name="clipboardToggleDocumentAction" slot="DOCUMENT_ACTIONS" order="60">
  <template>
    <playing-clipboard-toggle-button document="[[document]]" clipboard="[[clipboard]]"></playing-clipboard-toggle-button>
  </template>
</mostly-slot-content>

<mostly-slot-content name="lockToggleDocumentAction" slot="DOCUMENT_ACTIONS" order="70">
  <template>
    <playing-lock-toggle-button document="[[document]]"></playing-lock-toggle-button>
  </template>
</mostly-slot-content>

<mostly-slot-content name="previewDocumentAction" slot="DOCUMENT_ACTIONS" order="80">
  <template>
    <playing-preview-button document="[[document]]"></playing-preview-button>
  </template>
</mostly-slot-content>

<mostly-slot-content name="exportDocumentAction" slot="DOCUMENT_ACTIONS" order="90">
  <template>
    <playing-export-button document="[[document]]"></playing-export-button>
  </template>
</mostly-slot-content>

<!-- TODO: -->
<mostly-slot-content name="exportDocumentAction" slot="DOCUMENT_ACTIONS" order="100">
  <template>
    <playing-export-button document="[[document]]"></playing-export-button>
  </template>
</mostly-slot-content>

<!-- TODO: -->
<mostly-slot-content name="workflowDocumentAction" slot="DOCUMENT_ACTIONS" order="110">
  <template>
    <playing-workflow-button document="[[document]]"></playing-workflow-button>
  </template>
</mostly-slot-content>

<!-- RESULT SELECTION ACTIONS -->

<mostly-slot-content name="orderSelectionActions" slot="RESULTS_SELECTION_ACTIONS" order="-50">
  <template>
    <mostly-filter document="[[document]]" type="OrderedFolder">
      <template>
        <playing-move-documents-up-button selected-documents="[[selectedItems]]" documents="[[items]]">
        </playing-move-documents-up-button>
        <playing-move-documents-down-button selected-documents="[[selectedItems]]" documents="[[items]]">
        </playing-move-documents-down-button>
      </template>
    </mostly-filter>
  </template>
</mostly-slot-content>

<mostly-slot-content name="addToClipboardSelectionAction" slot="RESULTS_SELECTION_ACTIONS" order="20">
  <template>
    <playing-clipboard-bulk-button documents="[[selectedItems]]">
    </playing-clipboard-bulk-button>
  </template>
</mostly-slot-content>

<mostly-slot-content name="deleteSelectionAction" slot="RESULTS_SELECTION_ACTIONS" order="30">
  <template>
    <playing-delete-bulk-button documents="[[selectedItems]]">
    </playing-delete-bulk-button>
  </template>
</mostly-slot-content>

<!-- BLOB ACTIONS -->

<mostly-slot-content name="deleteBlobAction" slot="BLOB_ACTIONS" order="10">
  <template>
    <playing-delete-blob-button document="[[document]]" xpath="[[xpath]]"></playing-delete-blob-button>
  </template>
</mostly-slot-content>

<mostly-slot-content name="previewBlobAction" slot="BLOB_ACTIONS" order="20">
  <template>
    <playing-preview-button document="[[document]]" xpath="[[xpath]]"></playing-preview-button>
  </template>
</mostly-slot-content>

<mostly-slot-content name="downloadBlobAction" slot="BLOB_ACTIONS" order="30">
  <template>
    <playing-download-button document="[[document]]" xpath="[[xpath]]"></playing-download-button>
  </template>
</mostly-slot-content>
